# FST构建过程

FST表示有限状态集



## FSM(Finle State machine)有限状态机

表示有限个状态(State)集合以及这些状态之间转移和动作的数学模型，其中一个状态被标记为开始状态，0个或更多的状态被标记为final状态。

要素：

1. 有限个状态
2. 同一时间只能处于同一个状态
3. 不同状态可以互相转换
4. 状态是无序

例如：

- 睡觉——>工作——>卫生间——>吃饭
- 睡觉——>吃饭——>卫生间——>工作
- 睡觉——>卫生间——>工作——>吃饭

## FSA 有限状态接收机

要素：

1. 确定性：在任何给定状态下，对于任何输入，最多只能遍历一个transition
2. 非循环：不可能重复遍历同一个状态
3. Final唯一性：当且仅当有限状态机在输入序列的末尾处于最终状态时，才接受特定输入序列

- 输入msbtech
- 输入msn
- 输入wltech

## FST 有限状态转换机

FST最重要的功能是可以实现key到value的映射，相当于HashMa p<key, value>，FST的查询速度要比HashMap要慢一些，但是FST的内存消耗要比HashMap少很多，FST在Lucene中大量使用，例如：倒排索引存储，同义词典的存储，搜索关键词等

例如给定一些词项：

- msb/10
- msbtech/5
- msn/2
- wltech/8
- wth/16

## **Lucene**源码解析FST构建过程



