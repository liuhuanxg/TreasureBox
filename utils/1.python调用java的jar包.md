---
title: pythonè°ƒç”¨javaçš„jaråŒ…
---

## åœ¨pythonä¸­è°ƒç”¨jaråŒ…

æœ€è¿‘çš„é¡¹ç›®åŠŸèƒ½éœ€è¦è°ƒç”¨å®¢æˆ·çš„javaæ¥å£ï¼Œåœ¨è°ƒç”¨æ¥å£çš„æ—¶å€™éœ€è¦ä½¿ç”¨é…å¥—çš„jaråŒ…ç”Ÿæˆä¸€äº›å‚æ•°ï¼Œä½†æ˜¯å…¬å¸çš„é¡¹ç›®æ˜¯ç”¨djangoæ­å»ºçš„ï¼Œç»è¿‡æ— æ•°è¡€ä¸æ³ªçš„å°è¯•ï¼Œæœ€ç»ˆç»ˆäºæ‰¾åˆ°äº†åˆé€‚çš„æ–¹æ³•å»è°ƒç”¨.....

jpypeåŒ…æ˜¯ä¸€ä¸ªPythonçš„åŒ…ï¼Œå¯ä»¥åœ¨pythoné¡¹ç›®ä¸­è°ƒç”¨javaçš„jaråŒ…ï¼Œå¹¶è·å–æœ€ç»ˆçš„è¿”å›å€¼ã€‚ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯å®‰è£…çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ã€‚æœ¬æ–‡åœ¨ubuntu18.0.4ç³»ç»Ÿï¼Œä»¥python2ä»¥åŠjdk8ä¸ºåŸºç¡€ï¼Œè®²è§£jpypeåŒ…çš„ä½¿ç”¨ã€‚

### 1ã€å®‰è£…java

é¦–å…ˆå»å®˜ç½‘ä¸‹è½½jdk1.8çš„taråŒ…ï¼Œæ”¾åœ¨`/opt`è·¯å¾„ä¸‹ï¼Œç„¶åè¿›è¡Œå®‰è£…ï¼š

> tar -zxvf jdk-8u261-linux-x64.tar.gz

å®‰è£…å®Œjdkä¹‹åï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œåœ¨/etc/profileæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```
set java environment
JAVA_HOME=/opt/java/jdk1.8.0_261        
JRE_HOME=/opt/java/jdk1.8.0_261/jre     
CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin
export JAVA_HOME JRE_HOME CLASS_PATH PATH
```

é‡å¯ç¯å¢ƒå˜é‡ï¼š`source /etc/profile`

### 2ã€å®‰è£…pythonçš„jpypeåŒ…

æ‰¾åˆ°é¡¹ç›®ä¾èµ–çš„pythonç¯å¢ƒï¼š

```
sudo find / -name site-packages
```

å°†ä¸‹è½½çš„jpypeåŒ…æ”¾åœ¨`site-packages`è·¯å¾„ä¸‹ã€‚

### 3ã€ä½¿ç”¨ç¤ºä¾‹

jpypeä¸­ä¸»è¦åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š

```
jpype.getDefalutJVMPath()    # è·å–jvmæ‰€åœ¨çš„è·¯å¾„
jpype.startJVM()             # å¼€å¯è™šæ‹Ÿæœº
demo = jpype.JClass('hello.Demo')   # åŠ è½½jaråŒ…ä¸­çš„Demoæ–‡ä»¶
demo.sayHello()     # è°ƒç”¨ sayHello æ–¹æ³•
jpype.shutdownJVM()  # å…³é—­è™šæ‹Ÿæœº
```

ä»£ç ç¤ºä¾‹ï¼š

```python
def run_jar():
    jvm_path = "/opt/java/jdk1.8.0_261/jre/lib/amd64/server/libjvm.so"
	jar_path = os.path.join(os.path.abspath("."), "/home/youzi/ssojar/Hello.jar")
    jpype.startJVM(jvm_path, "-Djava.class.path=%s" % jar_path) # å¯åŠ¨è™šæ‹Ÿæœº
    demo = jpype.JClass('Demo')  # åŠ è½½Demoç±»
    demo.sayHello()				 # è°ƒç”¨sayHelloæ–¹æ³•
    jpype.shutdownJVM()  # å…³é—­è™šæ‹Ÿæœº
```

™šæ‹Ÿæœº
```

