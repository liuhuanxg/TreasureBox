---
title: ModelAdminé€‰é¡¹
---

ModelAdminé€‰é¡¹

ModelAdminæ˜¯æ¯”è¾ƒçµæ´»çš„ï¼Œå…·æœ‰å®šåˆ¶é¡µé¢çš„é€‰é¡¹ï¼Œæ‰€æœ‰é€‰é¡¹éƒ½åœ¨ModelAdminå­ç±»ä¸Šå®šä¹‰ï¼š

```python
from django.contrib import admin

class AuthorAdmin(admin.ModelAdmin):
    date_hierarchy = 'pub_date'
```

1. #### date_hierarchy

    è®¾ç½®date_hierarchyä¸ºæ¨¡å‹ä¸­çš„DateFieldæˆ–DateTimeFieldï¼Œæ›´æ”¹åˆ—è¡¨é¡µé¢å®ç°ä¸€ä¸ªç®€å•çš„åˆ†ç»„åŠŸèƒ½ï¼Œå°†ç¬¦åˆæŸä¸ªæ—¥æœŸåˆ†ç±»çš„æ•°æ®å½’ä¸ºä¸€ç±»ã€‚å¦‚ï¼š

    ```python
    date_hierarchy = 'pub_date'
    ```

    è¿˜å¯ä»¥ä½¿ç”¨__æŸ¥æ‰¾åœ¨ç›¸å…³æ¨¡å‹ä¸ŠæŒ‡å®šçš„å­—æ®µï¼Œå¦‚ï¼š

    ```python
    date_hierarchy = 'author__pub_date'
    ```

    è¿™ä¼šæ ¹æ®å¯ç”¨çš„æ•°æ®æ™ºèƒ½åœ°åˆ†ç±»ï¼Œå¦‚æœæ‰€æœ‰æ—¥æœŸéƒ½åœ¨ä¸€ä¸ªæœˆä¹‹å†…ï¼Œåˆ™æŒ‰æ—¥çº§æ—¶é—´åˆ†ç±»ã€‚

2. #### empty_value_display

    è¦†ç›–è®°å½•å­—æ®µä¸ºç©ºï¼ˆNoneï¼Œç©ºå­—ç¬¦ä¸²ç­‰ï¼‰çš„é»˜è®¤æ˜¾ç¤ºå€¼ã€‚é»˜è®¤å€¼ä¸ºç ´æŠ˜å·ï¼ˆâ€”ï¼‰ã€‚

    ```python
    from django.contrib import admin
    
    class AuthorAdmin(admin.ModelAdmin):
        empty_value_display = '-empty-'
    ```

    è¿˜å¯ä»¥åªå¤å†™æŸä¸ªç‰¹å®šçš„å­—æ®µå¦‚ï¼š

    ```python
    from django.contrib import admin
    
    class AuthorAdmin(admin.ModelAdmin):
        fields = ('name', 'title', 'view_birth_date')
    
        def view_birth_date(self, obj):
            return obj.birth_date
    
        view_birth_date.empty_value_display = '???'
    ```

3. #### exclude

    æä¾›æ­¤å±æ€§æ—¶ï¼Œä»£è¡¨è¦ä»è¡¨å•ä¸­æ’é™¤çš„å­—æ®µåç§°åˆ—è¡¨ã€‚

    ä¾‹å¦‚ï¼Œå¦‚ä¸‹æ¨¡å‹ï¼š

    ```python
    from django.db import models
    
    class Author(models.Model):
        name = models.CharField(max_length=100)
        title = models.CharField(max_length=3)
        birth_date = models.DateField(blank=True, null=True)
    ```

    å¦‚æœä»…å¸Œæœ›`Author`æ¨¡å‹çš„è¡¨å•ä»…åŒ…å«`name` å’Œ`title`å­—æ®µï¼Œåˆ™å¯ä»¥æŒ‡å®š`fields`æˆ–`exclude`ç±»ä¼¼è¿™æ ·ï¼š

    ```python
    from django.contrib import admin
    
    class AuthorAdmin(admin.ModelAdmin):
        fields = ('name', 'title')
    
    class AuthorAdmin(admin.ModelAdmin):
        exclude = ('birth_date',)
    ```

    ç”±äºä½œè€…æ¨¡å‹åªæœ‰ä¸‰ä¸ªå­—æ®µï¼Œ`name`ï¼Œ`title`ï¼Œå’Œ `birth_date`ï¼Œä¸Šé¢çš„ä¸¤ç§æ„é€ æ–¹å¼è¾¾æˆçš„æ•ˆæœä¸€è‡´ã€‚

4. #### fields

    fieldsé€‰é¡¹æ§åˆ¶åœ¨â€œæ·»åŠ â€å’Œâ€œæ›´æ”¹â€é¡µé¢ä¸Šçš„è¡¨å•è¿›è¡Œç®€å•çš„å¸ƒå±€æ›´æ”¹ï¼Œå¦‚ï¼šä»…æ˜¾ç¤ºå¯ç”¨å­—æ®µçš„å­é›†ï¼Œä¿®æ”¹é¡ºåºæˆ–è€…åˆ†ç»„ã€‚

    è¦åœ¨åŒä¸€è¡Œä¸Šæ˜¾ç¤ºå¤šä¸ªå­—æ®µï¼Œè¯·å°†è¿™äº›å­—æ®µåŒ…è£…åœ¨è‡ªå·±çš„å…ƒç»„ä¸­ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ`url`å’Œ`title`å­—æ®µå°†æ˜¾ç¤ºåœ¨åŒä¸€è¡Œä¸Šï¼Œå¹¶ä¸”è¯¥`content`å­—æ®µå°†åœ¨å…¶ä¸‹é¢æ˜¾ç¤ºåœ¨å…¶è‡ªå·±çš„è¡Œä¸Šï¼š

    ```python
    class FlatPageAdmin(admin.ModelAdmin):
        fields = (('url', 'title'), 'content')
    ```

5. #### fieldsets

    fieldsetså¯¹è¡¨å•è¿›è¡Œåˆ†å—å¦‚ï¼š

    ```python
    fieldsets = (   
    ("åŸºæœ¬ä¿¡æ¯", {'fields': ['goods_name','goods_method','goods_pic','goods_address','type','oprice','xprice']}),   
    ("ä»‹ç»", {'fields': ['goods_info', 'goods_content']})
    )
    ```

6. #### form

    é»˜è®¤æƒ…å†µä¸‹ï¼Œadminå°†ä¼šä¸ºæ¨¡å‹åŠ¨æ€åˆ›å»ºä¸€ä¸ª`ModelForm`ã€‚å®ƒç”¨äºåˆ›å»ºåœ¨ä¸¤ä¸ªæ·»åŠ /æ›´æ”¹é¡µé¢ä¸Šæ˜¾ç¤ºçš„è¡¨å•ã€‚æ‚¨å¯ä»¥è½»æ¾åœ°æä¾›è‡ªå·±çš„è®¾ç½®ï¼Œ`ModelForm`ä»¥è¦†ç›–æ·»åŠ /æ›´æ”¹é¡µé¢ä¸Šçš„ä»»ä½•é»˜è®¤è¡¨å•è¡Œä¸ºã€‚

    å¦‚æœæ‚¨`ModelForm`å’Œ`ModelAdmin`åŒæ–¹éƒ½å®šä¹‰äº†ä¸€ä¸ª`exclude` é€‰é¡¹ï¼Œåˆ™`ModelAdmin`ä¼˜å…ˆï¼š

    ```python
    from django import forms
    from django.contrib import admin
    from myapp.models import Person
    
    class PersonForm(forms.ModelForm):
    
        class Meta:
            model = Person
            exclude = ['name']
    
    class PersonAdmin(admin.ModelAdmin):
        exclude = ['age']
        form = PersonForm
    ```

    åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œâ€œå¹´é¾„â€å­—æ®µå°†è¢«æ’é™¤ï¼Œä½†â€œåç§°â€å­—æ®µå°†åŒ…å«åœ¨ç”Ÿæˆçš„è¡¨å•ä¸­ã€‚

7. #### inlines

    å†…è”æ ·å¼ï¼Œå¦‚ä¸‹ä¾‹å­ï¼šGoodsInfoè¡¨å’ŒDetailè¡¨å±äºä¸€å¯¹å¤šçš„å…³ç³»ï¼Œè¿™æ ·å¯ä»¥åœ¨æ·»åŠ GoodsInfoé¡µé¢æ—¶ï¼Œæ·»åŠ ä¸‰æ¡Detailçš„æ•°æ®ã€‚

    ```python
    class DetailInline(admin.TabularInline):   
        model = Detail   
        extra = 3
    
    @admin.register(GoodsInfo)
    class GoodsInfoAdmin(admin.ModelAdmin):   
        def get_queryset(self, request):      
            qs= super(GoodsInfoAdmin, self).get_queryset(request)     
            if request.user.is_superuser:         
                return qs      
            return qs.filter(seller=request.user.id)   
        	#æ ¹æ®ç™»å½•çš„ç”¨æˆ·è¿”å›æ•°æ® 		
        inlines = [DetailInline,]
    ```

8. #### list_display

    list_displayæ§åˆ¶åœ¨åˆ—è¡¨é¡µé¢æ˜¾ç¤ºå“ªäº›å­—æ®µã€‚ä¾‹ï¼š

    ```python
    list_display = ('first_name', 'last_name')
    ```

    å¦‚æœæœªè®¾ç½®list_displayï¼Œåˆ™ç®¡ç†ç«™ç‚¹å°†åªæ˜¾ç¤ºä¸€åˆ—ï¼Œæ˜¾ç¤º\__str__()æ¯ä¸ªå¯¹è±¡çš„è¡¨ç¤ºå½¢å¼ã€‚

    æœ‰å››ç§å½¢å¼çš„å‚æ•°ï¼š

    - æ¨¡å‹å­—æ®µçš„åç§°ã€‚ä¾‹å¦‚ï¼š

        ```python
        class PersonAdmin(admin.ModelAdmin):
            list_display = ('first_name', 'last_name')
        ```

    - æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆæ¨¡å‹å®ä¾‹ï¼‰çš„å¯è°ƒç”¨å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š

        ```python
        def upper_case_name(obj):
            return ("%s %s" % (obj.first_name, obj.last_name)).upper()
        upper_case_name.short_description = 'Name'
        
        class PersonAdmin(admin.ModelAdmin):
            list_display = (upper_case_name,)
        ```

    - ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º`ModelAdmin`æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆæ¨¡å‹å®ä¾‹ï¼‰çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š

        ```python
        class PersonAdmin(admin.ModelAdmin):
            list_display = ('upper_case_name',)
        
            def upper_case_name(self, obj):
                return ("%s %s" % (obj.first_name, obj.last_name)).upper()
            upper_case_name.short_description = 'Name'
        ```

    - ä»£è¡¨æ¨¡å‹å±æ€§æˆ–æ–¹æ³•çš„å­—ç¬¦ä¸²ï¼ˆæ— ä»»ä½•å¿…éœ€çš„å‚æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼š

        ```python
        from django.contrib import admin
        from django.db import models
        
        class Person(models.Model):
            name = models.CharField(max_length=50)
            birthday = models.DateField()
        
            def decade_born_in(self):
                return self.birthday.strftime('%Y')[:3] + "0's"
            decade_born_in.short_description = 'Birth decade'
        
        class PersonAdmin(admin.ModelAdmin):
            list_display = ('name', 'decade_born_in')
        ```

        éœ€è¦æ³¨æ„çš„ä¸€äº›ç‰¹æ®Šæƒ…å†µ`list_display`ï¼š

        - å¦‚æœè¯¥å­—æ®µä¸º`ForeignKey`ï¼Œåˆ™Djangoå°†æ˜¾ç¤º `__str__()`ç›¸å…³å¯¹è±¡çš„ã€‚

        - ä¸æ”¯æŒ`ManyToManyField`å­—æ®µï¼Œå› ä¸ºè¿™å°†éœ€è¦ä¸ºè¡¨ä¸­çš„æ¯ä¸€è¡Œæ‰§è¡Œä¸€ä¸ªå•ç‹¬çš„SQLè¯­å¥ã€‚ä¸è¿‡ï¼Œå¦‚æœè¦æ‰§è¡Œæ­¤æ“ä½œï¼Œè¯·ä¸ºæ¨¡å‹æä¾›è‡ªå®šä¹‰æ–¹æ³•ï¼Œç„¶åå°†è¯¥æ–¹æ³•çš„åç§°æ·»åŠ åˆ°`list_display`ã€‚

        - å¦‚æœè¯¥å­—æ®µä¸º`BooleanField`ï¼Œåˆ™Djangoå°†æ˜¾ç¤ºä¸€ä¸ªæ¼‚äº®çš„â€œ onâ€æˆ–â€œ offâ€å›¾æ ‡ï¼Œè€Œä¸æ˜¯`True`or `False`ã€‚

        - å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²æ˜¯æ¨¡å‹çš„æ–¹æ³•`ModelAdmin`æˆ–å¯è°ƒç”¨çš„å­—ç¬¦ä¸²ï¼Œåˆ™Djangoå°†é»˜è®¤å¯¹è¾“å‡ºè¿›è¡ŒHTMLè½¬ä¹‰ã€‚è¦è½¬ä¹‰ç”¨æˆ·è¾“å…¥å¹¶å…è®¸æ‚¨è‡ªå·±ä½¿ç”¨æœªè½¬ä¹‰çš„æ ‡ç­¾ï¼Œè¯·ä½¿ç”¨[`format_html()`](https://docs.djangoproject.com/zh-hans/2.1/ref/utils/#django.utils.html.format_html)ã€‚

            **å®Œæ•´çš„ç¤ºä¾‹ä»£ç ï¼š**

            model.pyä¸­:

            ```python
            from django.db import models
            from django.utils.html import format_html
            
            class Person(models.Model):
                status=models.BooleanField(default=1,verbose_name=('ä¸Šä¼ çŠ¶æ€'))
            
              	def colored_status(self):
                    if self.status == 0:
                        return format_html(
                            '<span><a href="/unlockcms/send_status/{}">{}</a></span>',self.id,'æ­£åœ¨ä¸Šä¼ ï¼ŒæŸ¥çœ‹è¯¦æƒ…',
                        )
                    else:
                        color_code='green'
                        return format_html(
                            '<span style="color:{};">{}</span>',color_code,'ä¸Šä¼ æˆåŠŸ',
                        )
                colored_status.short_description = u'ä¸Šä¼ çŠ¶æ€'
            ```

            åœ¨admin.pyä¸­è®¾ç½®ï¼š

            ```python
            class VersionAdmin(admin.ModelAdmin):   
            	list_display = ('colored_status')
            ```

9. #### list_display_links

    é»˜è®¤æƒ…å†µä¸‹ï¼Œlist_displayä¸­çš„ç¬¬ä¸€åˆ—ä¼šé“¾æ¥åˆ°æ¯ä¸ªé¡¹ç›®çš„æ›´æ”¹é¡µé¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡list_display_linksè¿›è¡Œå¤å†™ã€‚

    - è®¾ç½®ä¸º`None`æ—¶ï¼Œå®Œå…¨ä¸é“¾æ¥ã€‚

    - å°†å…¶è®¾ç½®ä¸º`list_display`æ‚¨æƒ³è¦å°†å…¶åˆ—è½¬æ¢ä¸ºé“¾æ¥çš„å­—æ®µåˆ—è¡¨æˆ–å…ƒç»„ï¼ˆæ ¼å¼ä¸ç›¸åŒ ï¼‰ã€‚

        å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µã€‚åªè¦è¿™äº›å­—æ®µæ˜¾ç¤ºåœ¨ä¸­ `list_display`ï¼ŒDjangoå°±ä¸ä¼šåœ¨æ„é“¾æ¥äº†å¤šå°‘ä¸ªå­—æ®µã€‚å”¯ä¸€çš„è¦æ±‚æ˜¯ï¼Œå¦‚æœä½¿ç”¨ `list_display_links`è¿™ç§æ–¹å¼ï¼Œåˆ™å¿…é¡»å®šä¹‰`list_display`ã€‚

10. #### list_filter

    è®¾ç½®list_filterå¯ä»¥æ¿€æ´»ç®¡ç†å‘˜åˆ—è¡¨é¡µé¢å³ä¾§çš„è¿‡æ»¤å™¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º

    <img src = './image/list_filter.png'>

    list_filteråº”ä¸ºå…ƒç´ çš„åˆ—è¡¨æˆ–å…ƒç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ åº”ä¸ºä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š

    `BooleanField`ï¼Œ`CharField`ï¼Œ`DateField`ï¼Œ`DateTimeField`ï¼Œ `IntegerField`ï¼Œ`ForeignKey`æˆ–`ManyToManyField`ã€‚

    æŸ¥æ‰¾æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨__æ¥è·¨è¶Šå…³ç³»æŸ¥æ‰¾å¦‚ï¼š

    ```python
    class PersonAdmin(admin.ModelAdmin):
        list_filter = ('is_staff', 'company','company__name')
    ```

11. #### list_per_page

     è®¾ç½®list_per_pageæ§åˆ¶åœ¨æ¯ä¸ªåˆ—è¡¨é¡µæ˜¾ç¤ºçš„é¡¹ç›®æ¡æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º100æ¡ã€‚å¦‚ï¼š

     ```python
     list_per_page = 50
     ```

12. #### ordering

     åœ¨adminä¸­è®¾ç½®orderingä»¥æŒ‡å®šå¦‚ä½•åœ¨Djangoç®¡ç†è§†å›¾ä¸­å¯¹å¯¹è±¡åˆ—è¡¨è¿›è¡Œæ’åºï¼Œorderingå‚æ•°åº”è¯¥ä¸ºåˆ—è¡¨æˆ–è€…å…ƒç»„ã€‚

     ```python
     ordering=('id',)
     ```

13. #### raw_id_fields

     é»˜è®¤æƒ…å†µä¸‹ï¼ŒDjangoçš„ç®¡ç†å‘˜å¯¹`ForeignKey`å­—æ®µä½¿ç”¨ï¼ˆ<select>ï¼‰é€‰æ‹©æ¡†ç•Œé¢ã€‚æœ‰æ—¶ï¼Œä¸éœ€è¦æ‰¿æ‹…å¿…é¡»é€‰æ‹©æ‰€æœ‰ç›¸å…³å®ä¾‹ä»¥æ˜¾ç¤ºåœ¨ä¸‹æ‹‰èœå•ä¸­çš„å¼€é”€ã€‚

     raw_id_fieldsæ˜¯è¦æ›´æ”¹ä¸ºæˆ–Inputçª—å£å°éƒ¨ä»¶çš„`ForeignKey``ManyToManyFieldå­—æ®µçš„åˆ—è¡¨ï¼š

     ```python
     class ArticleAdmin(admin.ModelAdmin):
         raw_id_fields = ("newspaper",)
     ```

     è¯¥`raw_id_fields` `Input`çª—å£å°éƒ¨ä»¶åº”åŒ…å«ä¸€ä¸ªä¸»é”®ï¼Œå¦‚æœè¯¥å­—æ®µæ˜¯ä¸€ä¸ª`ForeignKey`æˆ–é€—å·åˆ†éš”å€¼çš„åˆ—è¡¨ä¸­ï¼Œå¦‚æœè¯¥å­—æ®µä¸ºä¸€ä¸ª`ManyToManyField`çš„`raw_id_fields`,ä¼šåœ¨å°éƒ¨ä»¶æ—è¾¹æ˜¾ç¤ºæ”¾å¤§é•œæŒ‰é’®ï¼Œå…è®¸ç”¨æˆ·æœç´¢å’Œé€‰æ‹©ä¸€ä¸ªå€¼çš„å­—æ®µï¼š

     <img src='./image/raw_id_fields.png'>

14. #### readonly_fields

     é»˜è®¤æƒ…å†µä¸‹ï¼Œç®¡ç†å‘˜å°†æ‰€æœ‰å­—æ®µæ˜¾ç¤ºä¸ºå¯ç¼–è¾‘ï¼Œæ­¤é€‰é¡¹ä¸­çš„ä»»ä½•å­—æ®µï¼ˆåº”ä¸ºlistæˆ–è€…tupleï¼‰å°†æŒ‰åŸæ ·æ˜¾ç¤ºå…¶æ•°æ®ï¼Œå¹¶ä¸”ä¸å¯ç¼–è¾‘ã€‚åœ¨åˆ›å»ºå’Œæ ‡è®°ModelFormæ—¶ä¹Ÿä¼šè¢«æ’é™¤ã€‚

     ```python
     class PersonAdmin(admin.ModelAdmin):
         readonly_fields = ('address_report',)
     ```

     è¿˜å¯ä»¥é€šè¿‡æ–¹æ³•è¿›è¡Œæ§åˆ¶ï¼š

     ```python
     class ModelInfoAdmin(admin.ModelAdmin):
     	def get_readonly_fields(self, request, obj=None):   
     		if obj:      
     			if not request.user.has_perm('unlockcms.add_modelinfo'):         						return	['title','name']      		
                 return []   
     	return []
     ```

15. #### save_as

     è®¾ç½®save_asä¸ºåœ¨ç®¡ç†å‘˜æ›´æ”¹è¡¨å•é¡µé¢çš„â€å¦å­˜ä¸ºâ€œåŠŸèƒ½ã€‚

     é€šå¸¸ï¼Œå¯¹è±¡å…·æœ‰æ˜¯å“ªä¸ªä¿å­˜é€‰é¡¹ï¼šâ€ä¿å­˜â€œï¼Œâ€ä¿å­˜å¹¶ç»§ç»­ç¼–è¾‘â€œï¼Œå’Œâ€ä¿å­˜å¹¶æ·»åŠ å¦ä¸€ä¸ªâ€œã€‚å¦‚æœsave_asä¸ºTrueï¼Œåˆ™â€ä¿å­˜å¹¶æ·»åŠ å¦ä¸€ä¸ªâ€œå°†ç”±â€å¦å­˜ä¸ºæ–°â€œæŒ‰é’®ä»£æ›¿ï¼Œè¯¥æŒ‰é’®ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ›´æ–°ç°æœ‰å¯¹è±¡ã€‚

     é»˜è®¤æƒ…å†µä¸‹ï¼Œsave_asè®¾ç½®ä¸ºFalseã€‚

16. #### save_as_continue

     å½“save_as = Trueæ—¶ï¼Œæ·»åŠ æ–°å¯¹è±¡çš„é»˜è®¤é‡å®šå‘æ˜¯è¯¥å¯¹è±¡çš„æ›´æ”¹è§†å›¾ã€‚å¦‚æœè®¾ç½®save_as_continue=Falseï¼Œé‡å®šå‘å°†è½¬åˆ°æ›´æ”¹åˆ—è¡¨è§†å›¾ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼šsave_as_continueè®¾ç½®ä¸ºTrueã€‚

17. #### save_on_top

     è®¾ç½®save_on_topå¯ä»¥åœ¨ç®¡ç†å‘˜æ›´æ”¹è¡¨å•é¡¶éƒ¨æ·»åŠ ä¿å­˜æŒ‰é’®ã€‚é€šå¸¸ï¼Œä¿å­˜æŒ‰é’®åªæ˜¾ç¤ºåœ¨åº•éƒ¨ã€‚å¦‚æœè®¾ç½®ä¸ºsave_on_top,åˆ™æŒ‰é’®åŒæ—¶æ˜¾ç¤ºåœ¨é¡¶éƒ¨å’Œåº•éƒ¨ã€‚

18. #### search_fields

     è®¾ç½®search_fieldsä¸ºç®¡ç†å‘˜åˆ—è¡¨é¡µé¢å¯ç”¨æœç´¢æ¡†ã€‚åº”è¯¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªå­—æ®µåç§°åˆ—è¡¨ã€‚åªè¦æœ‰äººåœ¨è¯¥æ–‡æœ¬çŸ¿ä¸­æäº¤æœç´¢æŸ¥è¯¢ï¼Œå°±è®²å¯¹å…¶è¿›è¡Œæœç´¢ã€‚

     è¿™äº›å­—æ®µåº”è¯¥æ˜¯æŸç§æ–‡æœ¬å­—æ®µï¼Œä¾‹å¦‚CharFieldæˆ–TextFieldã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`ForeignKey`æˆ– `ManyToManyField`ä½¿ç”¨æŸ¥è¯¢APIæ¥æ‰§è¡Œç›¸å…³çš„å…³è”æŸ¥è¯¢ã€‚

     ```python
     search_fields = ['foreign_key__related_fieldname']
     #åœ¨åšå®¢adminä¸­æŒ‰ç…§ä½œè€…é‚®ç®±æŸ¥æ‰¾åšå®¢æ¡ç›®
     search_fields = ['user__email']
     ```

     è¯¥æœç´¢æ—¶æŒ‰ç…§icontainsæ€è·¯ï¼Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚å¦‚æœæƒ³è¦åœ¨æœç´¢æ—¶åŒºåˆ†å¤§å°å†™ï¼Œåˆ™åœ¨æœ€åæ·»åŠ exactï¼š

     ```python
     search_fields = ['first_name__exact']
     ```

19. #### show_full_result_count

     è®¾ç½®show_full_result_countæ§åˆ¶æ˜¯å¦åœ¨è¿‡æ»¤åçš„ç®¡ç†é¡µé¢ä¸Šæ˜¾ç¤ºå¯¹è±¡çš„å…¨éƒ¨æ•°é‡ï¼Œé»˜è®¤ä¸ºTrueï¼Œç”Ÿæˆç¬¦åˆæ¡ä»¶çš„æ¡æ•°ã€‚å¦‚æœæ•°é‡æ¯”è¾ƒå¤§æ—¶ï¼Œä½¿ç”¨æ¯”è¾ƒè´¹æ—¶ã€‚

20. #### filter_horizontal

      å¤šå¯¹å¤šå­—æ®µæ—¶å¯ä»¥åœ¨åå°æ‰¹é‡å¢åŠ æ•°æ®å¢åŠ æ•°æ®

     ```
     # typeï¼Œlanguageï¼Œtechnologyä¸ºProjectsè¡¨ä¸­çš„å¤šå¯¹å¤šå­—æ®µ
     @admin.register(Projects)
     class ProjectsAdmin(admin.ModelAdmin):
         list_display = ["project_name", "href", "url", "href", "add_time"]
         filter_horizontal = ["type", "language", "technology"]
     ```

21. 

     

      æ•°æ®

     ```
     # typeï¼Œlanguageï¼Œtechnologyä¸ºProjectsè¡¨ä¸­çš„å¤šå¯¹å¤šå­—æ®µ
     @admin.register(Projects)
     class ProjectsAdmin(admin.ModelAdmin):
         list_display = ["project_name", "href", "url", "href", "add_time"]
         filter_horizontal = ["type", "language", "technology"]
     ```

21. 

     

     