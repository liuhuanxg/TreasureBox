---
title: åˆ›å»ºvueå®ä¾‹
---

## åˆ›å»ºVueå®ä¾‹

æ¯ä¸ªVueåº”ç”¨ç¨‹åºéƒ½é€šè¿‡ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„Vueå®ä¾‹ï¼š

```javascript
<script>	
var vm = new Vue({
// options
})
</script>
```

jç»å¸¸ä¼šä½¿ç”¨vmï¼ˆViewModelï¼‰æ¥å¼•ç”¨Vueå®ä¾‹

### æ•°æ®ä¸æ–¹æ³•

1ã€åˆ›å»ºVueå®ä¾‹åï¼Œå®ƒå°†åœ¨å…¶dataå¯¹è±¡ä¸­æ‰¾åˆ°æ‰€æœ‰å±æ€§æ·»åŠ åˆ°Vueçš„ååº”ç³»ç»Ÿä¸­ã€‚å½“è¿™äº›å±æ€§çš„å€¼æ›´æ”¹æ—¶ï¼Œè§†å›¾ä¸­çš„æ•°æ®ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ã€‚

```javascript
<script>    
	var data = { a : 1 };    
	var vm  = new Vue({
        data:data    
    });    
	console.log(vm.a == data.a);    
	vm.a = 2;    
	console.log(vm.a,data.a);     // ä¿®æ”¹å±æ€§æ—¶åŸæ¥çš„å€¼ä¼šç›¸åº”ä¿®æ”¹    
</script>
```

ä½¿ç”¨Object.freeze()æ—¶ï¼Œå¯ä»¥é˜²æ­¢æ›´æ”¹ç°æœ‰çš„å±æ€§

htmlæ–‡ä»¶ï¼š

```html
<div id="example">    
	{{ a }}    
	<button v-on:click="a=2">change it</button>
</div>

```

```javascript
<script>
var obj = {    foo:"bar"};
Object.freeze(obj);   //åŠ ä¸Šè¿™ä¸ªå±æ€§ä¹‹åï¼Œvueç»‘å®šçš„æ•°æ®ä¸èƒ½åšåå‘ä¿®æ”¹
new  Vue({    
    el:'#app',    
    data:obj,
});
</script>
```

è§†å›¾æ•°æ®æ›´æ–°åªé’ˆå¯¹å·²ç»å­˜åœ¨çš„æ•°æ®ï¼Œå¦‚æœæ·»åŠ æ–°çš„å±æ€§æ—¶ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°å¦‚ï¼š

```
vm.b = 'hi'
```

2ã€Vueå®ä¾‹è¿˜æœ‰è®¸å¤šå…¶ä»–æœ‰ç”¨çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚è¿™äº›ä»¥$ä¸ºå‰ç¼€ï¼Œä»¥åŒºåˆ«ç”¨æˆ·å®šä¹‰çš„å±æ€§ã€‚

```javascript
var data = {a :1};
var vm  = new  Vue({    
    el:"#example",    			       		
    data:data
});
console.log(vm.$data === data); //true
console.log(vm.$el === document.getElementById('example'));   //true
vm.$watch('a',function (newValue,oldValue) {    
    //å½“vm.aå‘ç”Ÿæ”¹å˜æ—¶ä¼šè§¦å‘è¯¥æ–¹æ³•    
    console.log(vm.a,111111111);    
    //æ‰“å°æ–°ã€æ—§æ•°å€¼    
    console.log(newValue,oldValue)
});
```

### å®ä¾‹ç”Ÿå‘½å‘¨æœŸæŒ‚é’©

æ¯ä¸ªVueå®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½ä¼šç»å†ä¸€ç³»åˆ—åˆå§‹åŒ–æ­¥éª¤-ä¾‹å¦‚ï¼Œå®ƒéœ€è¦è®¾ç½®æ•°æ®è§‚å¯Ÿï¼Œç¼–è¯‘æ¨¡æ¿ï¼Œå°†å®ä¾‹å®‰è£…åˆ°DOMä»¥åŠåœ¨æ•°æ®æ›´æ”¹æ—¶æ›´æ–°DOMã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒè¿˜è¿è¡Œç§°ä¸º**ç”Ÿå‘½å‘¨æœŸæŒ‚é’©çš„**å‡½æ•°ï¼Œä½¿ç”¨æˆ·æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µæ·»åŠ è‡ªå·±çš„ä»£ç ã€‚

ä¾‹å¦‚ï¼Œcreatedé’©å­å¯ç”¨äºåœ¨åˆ›å»ºå®ä¾‹åè¿è¡Œä»£ç ï¼š

```javascript
new Vue({
data: {
	a: 1
},
created: function () {
// thisä»£è¡¨vmæœ¬èº«
console.log('a is: ' + this.a)
}
})
// => "a is: 1"
```

è¿˜æœ‰å…¶ä»–é’©å­ï¼Œå°†åœ¨å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ï¼Œå¦‚[`mounted`](https://vuejs.org/v2/api/#mounted)ï¼Œ[`updated`](https://vuejs.org/v2/api/#updated)å’Œ[`destroyed`](https://vuejs.org/v2/api/#destroyed)ã€‚è°ƒç”¨çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸæŒ‚é’©ï¼Œå…¶`this`ä¸Šä¸‹æ–‡éƒ½æŒ‡å‘è°ƒç”¨å®ƒçš„Vueå®ä¾‹

### ç”Ÿå‘½å‘¨æœŸå›¾

<img src="image/lifecycle.png">„Vueå®ä¾‹

### ç”Ÿå‘½å‘¨æœŸå›¾

<img src="image/lifecycle.png">